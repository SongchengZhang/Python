import cvxpy as cp

x = cp.Variable(29, integer = True)

obj_func=x[23]+x[27]+x[28]

constraints = []
constraints.append(x[0]==x[2])
constraints.append(x[1]==x[5]+x[12])
constraints.append(x[2]+x[7]==x[13])
constraints.append(x[3]==x[7]+x[8]+x[9])
constraints.append(x[4]+x[5]==x[10]+x[11])
constraints.append(x[11]+x[14]==x[20])
constraints.append(x[12]==x[14])
constraints.append(x[13]==x[15]+x[16])
constraints.append(x[8]==x[17]+x[18])
constraints.append(x[9]+x[10]==x[19])
constraints.append(x[16]+x[17]==x[21]+x[22])
constraints.append(x[19]+x[24]==x[23])
constraints.append(x[20]==x[24]+x[25])
constraints.append(x[15]+x[21]==x[26])
constraints.append(x[18]+x[22]+x[26]==x[27])
constraints.append(x[25]==x[28])
constraints.append(x[0]<=4000)
constraints.append(x[1]<=6000)
constraints.append(x[2]<=3800)
constraints.append(x[3]<=1600)
constraints.append(x[4]<=1200)
constraints.append(x[5]<=1900)
constraints.append(x[6]<=2300)
constraints.append(x[7]<=2900)
constraints.append(x[8]<=4000)
constraints.append(x[9]<=1200)
constraints.append(x[10]<=800)
constraints.append(x[11]<=600)
constraints.append(x[12]<=1200)
constraints.append(x[13]<=1400)
constraints.append(x[14]<=1000)
constraints.append(x[15]<=500)
constraints.append(x[16]<=800)
constraints.append(x[17]<=900)
constraints.append(x[18]<=3000)
constraints.append(x[19]<=1200)
constraints.append(x[20]<=2200)
constraints.append(x[21]<=2900)
constraints.append(x[22]<=2400)
constraints.append(x[23]<=2300)
constraints.append(x[24]<=2400)
constraints.append(x[25]<=1900)
constraints.append(x[26]<=5000)
constraints.append(x[27]<=6000)
constraints.append(x[28]<=4000)
constraints.append(x[0]>=0)
constraints.append(x[1]>=0)
constraints.append(x[2]>=0)
constraints.append(x[3]>=0)
constraints.append(x[4]>=0)
constraints.append(x[6]>=0)
constraints.append(x[7]>=0)
constraints.append(x[8]>=0)
constraints.append(x[9]>=0)
constraints.append(x[10]>=0)
constraints.append(x[11]>=0)
constraints.append(x[12]>=0)
constraints.append(x[13]>=0)
constraints.append(x[14]>=0)
constraints.append(x[15]>=0)
constraints.append(x[16]>=0)
constraints.append(x[17]>=0)
constraints.append(x[18]>=0)
constraints.append(x[19]>=0)
constraints.append(x[20]>=0)
constraints.append(x[21]>=0)
constraints.append(x[22]>=0)
constraints.append(x[23]>=0)
constraints.append(x[25]>=0)
constraints.append(x[26]>=0)
constraints.append(x[27]>=0)
constraints.append(x[28]>=0)

problem = cp.Problem(cp.Maximize(obj_func), constraints)

problem.solve(solver=cp.GUROBI,verbose = True)

print("obj_func =")
print(obj_func.value)
print("x =")
print(x.value)